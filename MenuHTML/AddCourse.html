<!DOCTYPE html>
<html>
<head>
    <link href="../../Content/bootstrap.css" rel="stylesheet" />
    <script src="../../Scripts/jquery-3.0.0.js"></script>
    <script src="../../Scripts/umd/popper.js"></script>
    <script src="../../Scripts/bootstrap.js"></script>
    <link href="../CSS.css" rel="stylesheet" />
    <meta name="viewport" content="width=device-width" />
</head>
<body>
    <div class="container">
        <div class="row" style="font-size:larger">
            <div class="col">
                <nav class="navbar navbar-expand-sm" style="color: #d29c9c">
                    <a class="navbar-brand" href="Main.html"><img src="../Images/Logo.jpg" style="width:55px" alt="Logo" /></a>

                    <!-- Links -->
                    <ul class="navbar-nav">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                                Menu
                            </a>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" href="Students.html">Students</a>
                                <a class="dropdown-item" href="Trainers.html">Trainers</a>
                                <a class="dropdown-item" href="Courses.html">Courses</a>
                                <a class="dropdown-item" href="Assignments.html">Assignments</a>

                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                                Sort by Courses
                            </a>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" href="../SortbycoursesHTML/TrainersperCourse.html">See all Trainers per Course</a>
                                <a class="dropdown-item" href="../SortbycoursesHTML/StudentsperCourse.html">See all Students per Course</a>
                                <a class="dropdown-item" href="../SortbycoursesHTML/AssignmentsperCourse.html">See all Assignments per Course</a>
                                <a class="dropdown-item" href="../SortbycoursesHTML/AssignmentsperStudentperCourse.html">See all Assignments per Student per Course</a>
                            </div>
                        </li>
                    </ul>
                    <a class="navbar-brand" href="#">Contact Us</a>
                </nav>
            </div>
            <br>
        </div>
    </div>

    <div class="hero">
        <!--Table-->

        <h2>Courses Information</h2>
        <a class="btn btn-primary" style="background-color: #762121; border-color: #d29c9c; font-size: 22px;" href="AddCourse.html">Add Course</a>

        <table class="table table-dark bg-dark">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Stream</th>
                    <th>Type</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="soma">
            </tbody>
        </table>

    </div>

    <!-- The Modal -->
    <div class="modal modal-dialog-centered" id="myModalAdd">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add a Course</h4>
            </div>
            <div class="modal-body">
                <div class="col">
                    <div class="row">
                        <div class="col">
                            <form>
                                <div class="form-group">
                                    <input class="form-control" type="text" name="name" value="" placeholder="Give Course's name*" autocomplete="on" pattern="[a-zA-Z]+" title="Course's name can only contain letters" autofocus required />
                                    <input class="form-control" list="liststream" type="text" name="course" value="CB - " placeholder="Select Course's stream*" required />
                                    <datalist id="liststream">
                                        <option value="CB-8" />
                                        <option value="CB-9" />
                                        <option value="CB-10" />
                                        <option value="CB-11" />
                                        <option value="CB-12" />
                                        <option value="CB-13" />
                                        <option value="CB-14" />
                                    </datalist>
                                    <input class="form-control" id="startingdate" type="date" name="startdate" value="" placeholder="Select Course's Starting Date*" min="2018-09-01" required />
                                    <input class="form-control" id="enddate" type="date" name="enddate" value="" placeholder="Give Course's Ending Date*" required />
                                    <label for="full">Full-Time</label>
                                    <input id="full" type="radio" name="type" value="Full-Time" required />
                                    <label for="part">Part-Time</label>
                                    <input id="part" type="radio" name="type" value="Part-Time" />
                                    <br />
                                    <input class="form-control btn btn-primary" style="width:117px" type="submit" name="name" value="Submit" />
                                    <input class="form-control btn btn-light" style="width:117px" type="reset" name="name" value="Reset" />
                                </div>
                            </form>
                            <a class="btn btn-danger" style="margin-left:80px;" href="Courses.html">Cancel</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>

        //Minimum End Date
        let ele = document.getElementById("startingdate");
        ele.addEventListener("input", minEndingDate);
        console.log(ele);

        function minEndingDate() {
            let startingDate = document.getElementById("startingdate").value;
            let minEndDate = new Date(startingDate);

            minEndDate.setMonth(minEndDate.getMonth() + 6);
            document.getElementById("enddate").setAttribute("min", minEndDate.toISOString().split('T')[0]);
        }
        //Model
        function Courses(name, stream, type, startdate, enddate) {
            this.name = name;
            this.stream = stream;
            this.type = type;
            this.startdate = startdate;
            this.enddate = enddate;
        }

        //  Synthetic Data
        let c1 = new Courses("Philosophy", "CB-8", "Part-Time", "10/11/2021", "03/24/2022");
        let c2 = new Courses("Strategic thinking", "CB-9", "Full-Time", "11/12/2021", "02/22/2022");
        let c3 = new Courses("Medical Studies", "CB-10", "Part-Time", "03/21/2022", "08/28/2022");
        let c4 = new Courses("Literature", "CB-8", "Part-Time", "10/11/2021", "03/24/2022");
        let c5 = new Courses("Gymnastics", "CB-10", "Part-Time", "03/21/2022", "08/28/2022");
        let c6 = new Courses("History", "CB-9", "Full-Time" ,"11/12/2021", "02/22/2022");
        let c7 = new Courses("Criminal Justice", "CB-8", "Part-Time", "10/11/2021", "03/24/2022");
        let c8 = new Courses("International Relations", "CB-9", "Full-Time", "11/12/2021", "02/22/2022");
        let c9 = new Courses("Synthesis", "CB-8", "Part-Time", "10/11/2021", "03/24/2022");
        let c10 = new Courses("Anger Management", "CB-10", "Part-Time", "03/21/2022", "08/28/2022");

        //Populate Data
        let courses = [c1, c2, c3, c4, c5, c6, c7, c8, c9, c10];

        //Create Rows
        for (let course of courses) {
            //create row
            let row = document.createElement("tr");
            let tdname = document.createElement("td");
            let tdstream = document.createElement("td");
            let tdtype = document.createElement("td");
            let tdstartdate = document.createElement("td");
            let tdenddate = document.createElement("td");
            let tdActions = document.createElement("td");
            let btnEdit = document.createElement("button");
            let btnDelete = document.createElement("button");

            let textname = document.createTextNode(course.name);
            let textstream = document.createTextNode(course.stream);
            let texttype = document.createTextNode(course.type);
            let textstartdate = document.createTextNode(course.startdate);
            let textenddate = document.createTextNode(course.enddate);
            let textBTNEDIT = document.createTextNode("Edit");
            let textBTNDEL = document.createTextNode("Delete");

            //Add Classes
            btnEdit.classList.add("btn", "btn-primary");
            btnDelete.classList.add("btn", "btn-danger");

            //Append Text
            tdname.appendChild(textname);
            tdstream.appendChild(textstream);
            tdtype.appendChild(texttype);
            tdstartdate.appendChild(textstartdate);
            tdenddate.appendChild(textenddate);
            btnEdit.appendChild(textBTNEDIT);
            btnDelete.appendChild(textBTNDEL);

            //Append Elements
            tdActions.appendChild(btnEdit);
            tdActions.appendChild(btnDelete);

            row.appendChild(tdname);
            row.appendChild(tdstream);
            row.appendChild(tdtype);
            row.appendChild(tdstartdate);
            row.appendChild(tdenddate);
            row.appendChild(btnEdit);
            row.appendChild(btnDelete);

            //Append to DOM
            let soma = document.getElementById("soma");
            soma.appendChild(row);
        }
    </script>

    <footer>
        <p class="blockquote-footer">
            © 2021 Papadatou Natalia. All Rights Reserved
        </p>
    </footer>
</body>
</html>